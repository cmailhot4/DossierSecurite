document.addEventListener("DOMContentLoaded", function () { function ut(n) { var i, t; if (n.target.attributes.href && (i = n.target.attributes.href.value.replace("#", ""), t = document.querySelector("[id=" + i + "]"), t && !t.classList.contains("scrollspy"))) { n.preventDefault(); var u = document.documentElement, f = (window.pageYOffset || u.scrollTop) - (u.clientTop || 0), e = t.getBoundingClientRect().top - (r.clientHeight + 5), o = f + e; window.scroll(0, o); return } } function h() { var n = window.pageXOffset !== undefined, t = (document.compatMode || "") === "CSS1Compat", i = n ? window.pageYOffset : t ? document.documentElement.scrollTop : document.body.scrollTop; i > b ? r.classList.contains("faded") && r.classList.remove("faded") : r.classList.contains("faded") || r.classList.add("faded") } function ft() { return typeof M != "undefined" && typeof M.isSmallAndDown == "function"? M.isSmallAndDown() : window.matchMedia("only screen and (max-width : " + rt + ")").matches } function et() { var i = t.value.trim(), n; i != "" && (t.disabled = !0, n = ot(i), n = escape(n), window.location = "/intr/Module/Recherche/default.aspx?motsCles=" + n) } function ot(n) { var t = n; return t = t.replace(/[\u2018\u2019\u201A]/g, "'"), t = t.replace(/[\u201C\u201D\u201E]/g, '"'), t = t.replace(/\u2026/g, "..."), t = t.replace(/[\u2013\u2014]/g, "-"), t = t.replace(/\u02C6/g, "^"), t = t.replace(/\u2039/g, "<"), t = t.replace(/\u203A/g, ">"), t.replace(/[\u02DC\u00A0]/g, " ") } function st() { var t, n; if (e.classList.contains("disablePartAideRetourAccueil") || at() || (t = ["/webapplication/commun.centrepaiementskytech", "/webapplication/module.ctre", "/webapplication/module.care", "/webapplication/module.snfi", "/intr/module/profil/modifcourriel.aspx", "/intr/module/interception/mobile/default.aspx", "/intr/module/profil/premiereutilisation.aspx", "/intr/module/identification/quitter.aspx", "/estd/tscl/testclas.ovx"], ["/intr", "/intr/"].indexOf(window.location.pathname.toLowerCase()) !== -1)) return !1; for (n = 0; n < t.length; n++)if (window.location.pathname.toLowerCase().indexOf(t[n]) === 0) return !1; return !0 } function ht(callbackIfDoitAfficher) { if (sessionStorage.getItem("DoitAfficherPartAideRetourAccueil")) eval(sessionStorage.getItem("DoitAfficherPartAideRetourAccueil")) && callbackIfDoitAfficher(); else { var xhttp = new XMLHttpRequest; xhttp.onreadystatechange = function () { if (this.readyState == 4 && this.status == 200 && this.response) { var n = JSON.parse(this.response); sessionStorage.setItem("DoitAfficherPartAideRetourAccueil", n.DoitAfficher); n.DoitAfficher && callbackIfDoitAfficher() } }; xhttp.open("POST", "/webapplication/module.COMMUN/Commun/DoitAfficherPartAideRetourAccueil", !0); xhttp.send() } } function ct() { n = document.createElement("div"); n.id = "partMessageAide"; n.style.opacity = "0"; n.style.marginTop = "50px"; var t = Utils.Dictio.GetMsgChaine("COMMUN.Header_0000"); n.innerHTML = "<p>" + t + '<\/p><div><a><span>OK<\/span><\/a><\/div><div class="arrow-up"><\/div>'; n.querySelector("a").addEventListener("click", lt); e.appendChild(n); setTimeout(function () { n.style.marginTop = "0px"; n.style.opacity = "1"; nt.style.backgroundColor = "#c2e1fe" }); setTimeout(function () { nt.style.backgroundColor = "transparent" }, 5e3) } function lt() { n.style.marginTop = "0px"; n.style.opacity = "1"; setTimeout(function () { n.style.display = "none" }); g(); tt.removeEventListener("click", g) } function g() { sessionStorage.setItem("DoitAfficherPartAideRetourAccueil", !1); var n = new XMLHttpRequest; n.open("POST", "/webapplication/module.COMMUN/Commun/MasquerPartAideRetourAccueil", !0); n.send() } function at() { return window.navigator && window.navigator.userAgent && /(^OVX | OVX$)$/.test(window.navigator.userAgent) } var e = document.querySelector("header"), l, b, k, s, f, d, a, v, y; if (e) { var nt = document.getElementById("wrapper-headerOmnivoxLogo"), tt = document.getElementById("headerOmnivoxLogo"), p = e.querySelector("nav"), r = document.getElementById("headerFixedBar"), u = document.getElementById("headerBtnMenuBurger"), t = document.getElementById("headerSearchTextBox"), n, o = !1, w = 350, it = new RegExp("crios|iphone|ipad|ipod").test(navigator.userAgent.toLocaleLowerCase()), c = typeof M != "undefined" && document.getElementById("slide-out"), rt = "600px"; for (window.location.pathname.match(/DemandeAccelere/gi) && (rt = "544px"), ft() ? (r.classList.contains("faded") && r.classList.remove("faded"), p.setAttribute("aria-hidden", "true"), !c && u && (u.style.display = "none")) : (window.addEventListener("scroll", h), o = !0, l = 56, b = l / 2, h()), k = document.querySelectorAll("a[href^='#']"), i = 0; i < k.length; i++)s = k[i], s.attributes.href.value != "#" && s.attributes.href.value != "#!" && (s.addEventListener("keydown", function (n) { n.which == 13 && ut(n) }), s.addEventListener("click", function (n) { n.which == 1 && ut(n) })); window.addEventListener("resize", function () { if (ft()) { if (!o) return; c ? $(u).show() : u && (u.style.display = "none"); window.removeEventListener("scroll", h); o = !1; r.classList.contains("faded") && r.classList.remove("faded"); p.setAttribute("aria-hidden", "true") } else { if (o) return; if (c) { var n = M.Sidenav.getInstance($(".sidenav")); n.isOpen && n.close(); $(u).hide() } l = e.clientHeight; b = l / 2; window.addEventListener("scroll", h); o = !0; h(); p.setAttribute("aria-hidden", "false") } }); f = document.getElementById("headerNavbarSearchLink"); f && (f.addEventListener("click", function () { $("#parent-textbox-recherche").addClass("visible"); $("#parent-textbox-recherche").attr("aria-hidden", "false"); it ? (t.focus(), setTimeout(function () { document.body.scrollLeft = $(t).offset().left }, w)) : setTimeout(function () { t.focus() }, w) }), f.addEventListener("keydown", function (n) { n.which == 13 && n.target.click() }), it && f.addEventListener("touchstart", function (n) { n.preventDefault(); $("#parent-textbox-recherche").addClass("visible"); $("#parent-textbox-recherche").attr("aria-hidden", "false"); t.focus(); setTimeout(function () { document.body.scrollLeft = $(t).offset().left }, w + 200) })); t && (t.addEventListener("blur", function () { v || ($("#parent-textbox-recherche").removeClass("visible"), $("#parent-textbox-recherche").attr("aria-hidden", "true")) }), t.addEventListener("keydown", function (n) { n.which === 13 ? et() : n.which === 27 && f.focus() })); d = document.getElementById("parent-textbox-recherche"); d && (a = d.getElementsByTagName("img")[0], a && (v = !1, a.addEventListener("mousedown", function (n) { n.which === 1 && (v = !0) }), a.addEventListener("click", function () { v = !1; t.focus(); et() }))); c && (y = document.getElementById("headerBtnMenuBurgerDraggable"), y && (y.addEventListener("click", function () { M.Sidenav.getInstance($(".sidenav")).close() }), y.addEventListener("keydown", function (n) { n.which === 13 && $(n.target).trigger("click") }))); st() && ht(function () { ct(); tt.addEventListener("click", g) }) } })